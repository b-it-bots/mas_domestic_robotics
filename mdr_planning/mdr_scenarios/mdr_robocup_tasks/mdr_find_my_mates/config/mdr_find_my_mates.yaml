# Description: Defines a state machine for a RoboCup@Home find my mates scenario
# Author: Patrick Nagel
# Email: patrick.nagel@h-brs.de
sm_id: mdr_find_my_mates
states: [LOCALIZE_PERSON, ANALYZE_LOCATION, REQUEST_LOCATION_INFORMATION, ANALYZE_PERSON, REQUEST_PERSONAL_INFORMATION, REPORT_FINDINGS]
outcomes: [DONE, TIMEOUT]
state_descriptions:
    - state:
        name: LOCALIZE_PERSON
        state_module_name:
        state_class_name: LocalizePerson
        transitions:
          - transition:
              name: person_localized
              state: ANALYZE_LOCATION
    - state:
        name: ANALYZE_LOCATION
        state_module_name:
        state_class_name: AnalyzeLocation
        transitions:
          - transition:
              name: request_location_information
              state: REQUEST_LOCATION_INFORMATION
          - transition:
              name: start_analyzing_person
              state: ANALYZE_PERSON
    - state:
        name: REQUEST_LOCATION_INFORMATION
        state_module_name:
        state_class_name: RequestLocationInformation
        transitions:
          - transition:
              name: start_analyzing_person
              state: ANALYZE_PERSON
    - state:
        name: ANALYZE_PERSON
        state_module_name:
        state_class_name: AnalyzePerson
        transitions:
          - transition:
              name: request_personal_information
              state: REQUEST_PERSONAL_INFORMATION
    - state:
        name: REQUEST_PERSONAL_INFORMATION
        state_module_name:
        state_class_name: RequestPersonalInformation
        transitions:
          - transition:
              name: report_findings
              state: REPORT_FINDINGS
    - state:
        name: REPORT_FINDINGS
        state_module_name:
        state_class_name: ReportFindings
        transitions:
          - transition:
              name: succeeded
              state: DONE
